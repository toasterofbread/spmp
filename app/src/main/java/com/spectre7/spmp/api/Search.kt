package com.spectre7.spmp.api

import com.spectre7.spmp.R
import com.spectre7.spmp.model.MediaItem
import com.spectre7.utils.getString
import okhttp3.Request
import java.net.URLEncoder

data class SearchResults(val items: List<Result>) {
    data class Result(val id: ResultId, val snippet: Snippet)
    data class ResultId(val kind: String, val videoId: String = "", val channelId: String = "", val playlistId: String = "")
    data class Snippet(val publishedAt: String, val channelId: String, val title: String, val description: String, val thumbnails: Map<String, MediaItem.ThumbnailProvider.Thumbnail>)
}

fun searchYoutube(query: String, type: MediaItem.Type, max_results: Int = 10, channel_id: String? = null): Result<List<SearchResults.Result>> {

    // val data = when(type) {
    //     MediaItem.Type.SONG -> """{"kind":"youtube#searchListResponse","etag":"nRPnD-pR1sRRYkjoxR_YG5KS8oU","nextPageToken":"CAoQAA","regionCode":"NL","pageInfo":{"totalResults":217141,"resultsPerPage":10},"items":[{"kind":"youtube#searchResult","etag":"0EB7F-Xe42jn2z29Jk7WiwFX9Jw","id":{"kind":"youtube#video","videoId":"cp8UEv8i0lc"},"snippet":{"publishedAt":"2022-05-25T11:00:12Z","channelId":"UCC7NAtMGCX-SJxvVLkrNCtw","title":"„ÉÑ„É¶ - „ÅÑ„Å§„Åã„Ç™„Éà„Éä„Å´„Å™„Çå„Çã„Å®„ÅÑ„ÅÑ„Å≠„ÄÇ MV","description":"Apple Music„ÉªSpotify„ÉªLINE MUSICÁ≠â„ÅÆ„Çµ„Éñ„Çπ„ÇØÈÖç‰ø°‰∏≠„Åß„Åô„ÄÇ https://tuyu.lnk.to/itsuoto OffVocalÈü≥Ê∫ê https://piapro.jp/t/UPLn ‚Ä¶","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/cp8UEv8i0lc/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/cp8UEv8i0lc/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/cp8UEv8i0lc/hqdefault.jpg","width":480,"height":360}},"channelTitle":"„ÉÑ„É¶","liveBroadcastContent":"none","publishTime":"2022-05-25T11:00:12Z"}},{"kind":"youtube#searchResult","etag":"0oUsn0L4miLOvgG13FJM8nPVxuw","id":{"kind":"youtube#video","videoId":"TBoBfT-_sfM"},"snippet":{"publishedAt":"2022-07-27T11:00:11Z","channelId":"UCC7NAtMGCX-SJxvVLkrNCtw","title":"„ÉÑ„É¶ - „Ç¢„É≥„ÉÄ„Éº„Ç≠„ÉÉ„Ç∫ MV","description":"Apple Music„ÉªSpotify„ÉªLINE MUSICÁ≠â„ÅÆ„Çµ„Éñ„Çπ„ÇØÈÖç‰ø°‰∏≠„Åß„Åô„ÄÇ https://tuyu.lnk.to/underkids OffVocalÈü≥Ê∫ê https://tuyu-official.jp/dl ‚Ä¶","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/TBoBfT-_sfM/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/TBoBfT-_sfM/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/TBoBfT-_sfM/hqdefault.jpg","width":480,"height":360}},"channelTitle":"„ÉÑ„É¶","liveBroadcastContent":"none","publishTime":"2022-07-27T11:00:11Z"}},{"kind":"youtube#searchResult","etag":"5rauEhD5J9aLreBZN5OBa4seOC0","id":{"kind":"youtube#video","videoId":"Wx08V5jPEwg"},"snippet":{"publishedAt":"2021-04-26T11:00:13Z","channelId":"UCB2tP2QfRG7hTra0KTOtTBg","title":"„ÉÑ„É¶ - „Éá„É¢„Éº„Éã„ÉÉ„Ç∑„É• MV","description":"iTunes„ÉªApple Music„ÉªSpotify„ÉªLINE MUSICÁ≠â„ÅÆ„Çµ„Éñ„Çπ„ÇØËß£Á¶Å„Åó„Åæ„Åó„Åü„ÄÇ https://linkco.re/PFzEFNUx ‚ñ°ÂÖ¨Âºè„ÉÑ„Ç§„ÉÉ„Çø„Éº ‚Ä¶","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/Wx08V5jPEwg/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/Wx08V5jPEwg/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/Wx08V5jPEwg/hqdefault.jpg","width":480,"height":360}},"channelTitle":"„ÉÑ„É¶","liveBroadcastContent":"none","publishTime":"2021-04-26T11:00:13Z"}},{"kind":"youtube#searchResult","etag":"9QA65dSwRDd8ZgaGOp3yehMNk44","id":{"kind":"youtube#video","videoId":"M7FH1dL51oU"},"snippet":{"publishedAt":"2020-08-22T11:11:05Z","channelId":"UCB2tP2QfRG7hTra0KTOtTBg","title":"„ÉÑ„É¶ - Ê≥•„ÅÆÂàÜÈöõ„ÅßÁßÅ„Å†„Åë„ÅÆÂ§ßÂàá„ÇíÂ•™„Åä„ÅÜ„Å†„Å™„Çì„Å¶ MV","description":"iTunes„ÉªApple Music„ÉªSpotify„ÉªLINE MUSICÁ≠â„ÅÆ„Çµ„Éñ„Çπ„ÇØËß£Á¶Å„Åó„Åæ„Åó„Åü„ÄÇ https://linkco.re/RE1ex62C ‚ñ°ÂÖ¨Âºè„ÉÑ„Ç§„ÉÉ„Çø„Éº ‚Ä¶","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/M7FH1dL51oU/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/M7FH1dL51oU/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/M7FH1dL51oU/hqdefault.jpg","width":480,"height":360}},"channelTitle":"„ÉÑ„É¶","liveBroadcastContent":"none","publishTime":"2020-08-22T11:11:05Z"}},{"kind":"youtube#searchResult","etag":"dp17Y-0qA5fsOe83Fh5Crinh0iE","id":{"kind":"youtube#video","videoId":"olWvy0PiLfA"},"snippet":{"publishedAt":"2019-10-16T11:00:09Z","channelId":"UCB2tP2QfRG7hTra0KTOtTBg","title":"„ÉÑ„É¶ - „Åè„Çâ„Åπ„Çâ„Çå„Å£Â≠ê MV","description":"iTunes„ÉªSpotify„ÉªLINE MUSICÁ≠â„ÅÆ„Çµ„Éñ„Çπ„ÇØËß£Á¶Å„Åó„Åæ„Åó„Åü„ÄÇ Ôªøhttps://linkco.re/7g3S6Y0A OffVocalÈü≥Ê∫ê https://piapro.jp/t/ZiFe ‚Ä¶","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/olWvy0PiLfA/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/olWvy0PiLfA/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/olWvy0PiLfA/hqdefault.jpg","width":480,"height":360}},"channelTitle":"„ÉÑ„É¶","liveBroadcastContent":"none","publishTime":"2019-10-16T11:00:09Z"}},{"kind":"youtube#searchResult","etag":"lFYLkvCE9W7MNLdEPjCrQlGKSqI","id":{"kind":"youtube#video","videoId":"4QXCPuwBz2E"},"snippet":{"publishedAt":"2019-11-13T11:00:01Z","channelId":"UCB2tP2QfRG7hTra0KTOtTBg","title":"„ÉÑ„É¶ - „ÅÇ„ÅÆ‰∏ñË°å„Åç„ÅÆ„Éê„Çπ„Å´‰πó„Å£„Å¶„Åï„Çâ„Å∞„ÄÇ MV","description":"iTunes„ÉªSpotify„ÉªLINE MUSICÁ≠â„ÅÆ„Çµ„Éñ„Çπ„ÇØËß£Á¶Å„Åó„Åæ„Åó„Åü„ÄÇ https://linkco.re/7g3S6Y0A „Ää„ÉÑ„É¶1st„Éï„É´„Ç¢„É´„Éê„É†Â•ΩË©ïÁô∫Â£≤‰∏≠„Äã ‚Ä¶","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/4QXCPuwBz2E/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/4QXCPuwBz2E/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/4QXCPuwBz2E/hqdefault.jpg","width":480,"height":360}},"channelTitle":"„ÉÑ„É¶","liveBroadcastContent":"none","publishTime":"2019-11-13T11:00:01Z"}},{"kind":"youtube#searchResult","etag":"-vbuzqRg3ZRHm6rzLiWurAXSo54","id":{"kind":"youtube#video","videoId":"xU7KuHLnExA"},"snippet":{"publishedAt":"2022-08-28T12:00:34Z","channelId":"UCRMpIxnySp7Fy5SbZ8dBv2w","title":"„ÅÑ„Å§„Åã„Ç™„Éà„Éä„Å´„Å™„Çå„Çã„Å®„ÅÑ„ÅÑ„Å≠„ÄÇ - „ÉÑ„É¶ (Cover) / KMNZ LIZ","description":"„Åö„Å°„ÇÉ@  Êé®„Åó ------------------------ OriginalÔºöhttps://www.youtube.com/watch?v=cp8UEv8i0lc Main ArtÔºö„Åë„ÅÑ Vocal &amp; MIX &amp; Movie ‚Ä¶","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/xU7KuHLnExA/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/xU7KuHLnExA/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/xU7KuHLnExA/hqdefault.jpg","width":480,"height":360}},"channelTitle":"KMNZ LIZ","liveBroadcastContent":"none","publishTime":"2022-08-28T12:00:34Z"}},{"kind":"youtube#searchResult","etag":"WN_INUUdndsVvQz_Z41ttBnszCg","id":{"kind":"youtube#video","videoId":"D0ehC_8sQuU"},"snippet":{"publishedAt":"2019-06-12T11:00:03Z","channelId":"UCB2tP2QfRG7hTra0KTOtTBg","title":"„ÉÑ„É¶ - „ÇÑ„Å£„Å±„ÇäÈõ®„ÅØÈôç„Çã„Çì„Å†„Å≠ MV","description":"iTunes„ÉªSpotify„ÉªLINE MUSICÁ≠â„ÅÆ„Çµ„Éñ„Çπ„ÇØËß£Á¶Å„Åó„Åæ„Åó„Åü„ÄÇ https://linkco.re/7g3S6Y0A „Ää„ÉÑ„É¶1st„Éï„É´„Ç¢„É´„Éê„É†Â•ΩË©ïÁô∫Â£≤‰∏≠„Äã ...","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/D0ehC_8sQuU/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/D0ehC_8sQuU/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/D0ehC_8sQuU/hqdefault.jpg","width":480,"height":360}},"channelTitle":"„ÉÑ„É¶","liveBroadcastContent":"none","publishTime":"2019-06-12T11:00:03Z"}},{"kind":"youtube#searchResult","etag":"CqSdlT7P-B4ScW4FgZpnxcl7yDM","id":{"kind":"youtube#video","videoId":"1cGQotpn8r4"},"snippet":{"publishedAt":"2019-12-19T11:00:00Z","channelId":"UCB2tP2QfRG7hTra0KTOtTBg","title":"„ÉÑ„É¶ - „É≠„ÉÉ„ÇØ„Å™Âêõ„Å®„ÅØ„ÅäÂà•„Çå„Å† MV","description":"iTunes„ÉªSpotify„ÉªLINE MUSICÁ≠â„ÅÆ„Çµ„Éñ„Çπ„ÇØËß£Á¶Å„Åó„Åæ„Åó„Åü„ÄÇ https://linkco.re/7g3S6Y0A „Ää„ÉÑ„É¶1st„Éï„É´„Ç¢„É´„Éê„É†Â•ΩË©ïÁô∫Â£≤‰∏≠„Äã ...","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/1cGQotpn8r4/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/1cGQotpn8r4/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/1cGQotpn8r4/hqdefault.jpg","width":480,"height":360}},"channelTitle":"„ÉÑ„É¶","liveBroadcastContent":"none","publishTime":"2019-12-19T11:00:00Z"}},{"kind":"youtube#searchResult","etag":"Onh9P3ZCBhOWx-Dy12e9xG098O4","id":{"kind":"youtube#video","videoId":"vcw5THyM7Jo"},"snippet":{"publishedAt":"2021-10-09T11:30:13Z","channelId":"UCB2tP2QfRG7hTra0KTOtTBg","title":"„ÉÑ„É¶ - ÁµÇÁÇπ„ÅÆÂÖà„ÅåÂú®„Çã„Å®„Åô„Çã„Å™„Çâ„Å∞„ÄÇ MV","description":"iTunes„ÉªApple Music„ÉªSpotify„ÉªLINE MUSICÁ≠â„ÅÆ„Çµ„Éñ„Çπ„ÇØÈÖç‰ø°‰∏≠„Åß„Åô„ÄÇ https://linkco.re/ArP2Q03M ‚ñ°ÂÖ¨Âºè„ÉÑ„Ç§„ÉÉ„Çø„Éº ...","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/vcw5THyM7Jo/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/vcw5THyM7Jo/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/vcw5THyM7Jo/hqdefault.jpg","width":480,"height":360}},"channelTitle":"„ÉÑ„É¶","liveBroadcastContent":"none","publishTime":"2021-10-09T11:30:13Z"}}]}"""
    //     MediaItem.Type.ARTIST -> """{"kind":"youtube#searchListResponse","etag":"UQIKOrbUNgtyfXkrxgHjTgir7GU","nextPageToken":"CAoQAA","regionCode":"NL","pageInfo":{"totalResults":860,"resultsPerPage":10},"items":[{"kind":"youtube#searchResult","etag":"-h_I14JnHfU0H4jjClwEoOJrJiI","id":{"kind":"youtube#channel","channelId":"UCB2tP2QfRG7hTra0KTOtTBg"},"snippet":{"publishedAt":"2009-04-08T07:04:56Z","channelId":"UCB2tP2QfRG7hTra0KTOtTBg","title":"„ÉÑ„É¶","description":"„ÉÑ„É¶ ComposerÔºö„Å∑„Åô 1994Âπ¥5Êúà23Êó•Áîü (28Ê≠≥) Ê≠åÔºè‰ΩúË©û‰ΩúÊõ≤ÔºèÁ∑®Êõ≤Ôºè„ÇÆ„Çø„ÉºÔºèMix&amp;MasteringÔºè„Éó„É≠„Éá„É•„Éº„ÇπÁ≠â ...","thumbnails":{"default":{"url":"https://yt3.ggpht.com/Kyb1VwVChx8DXOgqOhrq9Lvca5e_SZskAs6f7l5wVoL_ZOLFoJv51Ar0Hye0VxPpntP_rUTFiw=s88-c-k-c0xffffffff-no-rj-mo"},"medium":{"url":"https://yt3.ggpht.com/Kyb1VwVChx8DXOgqOhrq9Lvca5e_SZskAs6f7l5wVoL_ZOLFoJv51Ar0Hye0VxPpntP_rUTFiw=s240-c-k-c0xffffffff-no-rj-mo"},"high":{"url":"https://yt3.ggpht.com/Kyb1VwVChx8DXOgqOhrq9Lvca5e_SZskAs6f7l5wVoL_ZOLFoJv51Ar0Hye0VxPpntP_rUTFiw=s800-c-k-c0xffffffff-no-rj-mo"}},"channelTitle":"„ÉÑ„É¶","liveBroadcastContent":"none","publishTime":"2009-04-08T07:04:56Z"}},{"kind":"youtube#searchResult","etag":"aed4rL0QLOYKZeCtPDkaK77JPbk","id":{"kind":"youtube#channel","channelId":"UCC7NAtMGCX-SJxvVLkrNCtw"},"snippet":{"publishedAt":"2022-03-23T06:37:21Z","channelId":"UCC7NAtMGCX-SJxvVLkrNCtw","title":"„ÉÑ„É¶","description":"","thumbnails":{"default":{"url":"https://yt3.ggpht.com/gHRX90T8rDM-IEW_W-OT9Pw3IEB-_wMJY_vDUMfIpuy_K64u8C7UvPsGPenRDCmaMIcK7sRZrA=s88-c-k-c0xffffffff-no-rj-mo"},"medium":{"url":"https://yt3.ggpht.com/gHRX90T8rDM-IEW_W-OT9Pw3IEB-_wMJY_vDUMfIpuy_K64u8C7UvPsGPenRDCmaMIcK7sRZrA=s240-c-k-c0xffffffff-no-rj-mo"},"high":{"url":"https://yt3.ggpht.com/gHRX90T8rDM-IEW_W-OT9Pw3IEB-_wMJY_vDUMfIpuy_K64u8C7UvPsGPenRDCmaMIcK7sRZrA=s800-c-k-c0xffffffff-no-rj-mo"}},"channelTitle":"„ÉÑ„É¶","liveBroadcastContent":"none","publishTime":"2022-03-23T06:37:21Z"}},{"kind":"youtube#searchResult","etag":"-qVOSPnePR8PhV8RNFJg4BiKKgg","id":{"kind":"youtube#channel","channelId":"UCZkClY03Vnv-X9qMnEHzxHQ"},"snippet":{"publishedAt":"2020-03-11T18:45:54Z","channelId":"UCZkClY03Vnv-X9qMnEHzxHQ","title":"TUYU - Topic","description":"","thumbnails":{"default":{"url":"https://yt3.ggpht.com/bpkTKhpedrjqXx3vT3LffQOSOuv8AxlG5s7nrK9630c2l9VEePVfwkIbAQOoHQquiuCDgloyYqQ=s88-c-k-c0xffffffff-no-rj-mo"},"medium":{"url":"https://yt3.ggpht.com/bpkTKhpedrjqXx3vT3LffQOSOuv8AxlG5s7nrK9630c2l9VEePVfwkIbAQOoHQquiuCDgloyYqQ=s240-c-k-c0xffffffff-no-rj-mo"},"high":{"url":"https://yt3.ggpht.com/bpkTKhpedrjqXx3vT3LffQOSOuv8AxlG5s7nrK9630c2l9VEePVfwkIbAQOoHQquiuCDgloyYqQ=s800-c-k-c0xffffffff-no-rj-mo"}},"channelTitle":"TUYU - Topic","liveBroadcastContent":"none","publishTime":"2020-03-11T18:45:54Z"}},{"kind":"youtube#searchResult","etag":"C9yw6LdfVJ2h5IBw334MuzsRwnM","id":{"kind":"youtube#channel","channelId":"UCos_5GfVM3AYMWCMw_mdfbg"},"snippet":{"publishedAt":"2019-05-10T20:13:02Z","channelId":"UCos_5GfVM3AYMWCMw_mdfbg","title":"„Å§„ÇÜ","description":"„Åî‰æùÈ†º„ÅØ‰∏ãË®ò„É™„É≥„ÇØTwitter„ÅÆDM„Åæ„Åß„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô Âü∫Êú¨„Ç§„É≥„Çπ„Çø„ÅÆ„Çπ„Éà„Éº„É™„Éº„ÅßÊÅØ„Åó„Å¶„Åæ„Åô.","thumbnails":{"default":{"url":"https://yt3.ggpht.com/ytc/AMLnZu_EAidQFP9jhpjJcb1ZgOg-l70GzWiz7cTvR3D6=s88-c-k-c0xffffffff-no-rj-mo"},"medium":{"url":"https://yt3.ggpht.com/ytc/AMLnZu_EAidQFP9jhpjJcb1ZgOg-l70GzWiz7cTvR3D6=s240-c-k-c0xffffffff-no-rj-mo"},"high":{"url":"https://yt3.ggpht.com/ytc/AMLnZu_EAidQFP9jhpjJcb1ZgOg-l70GzWiz7cTvR3D6=s800-c-k-c0xffffffff-no-rj-mo"}},"channelTitle":"„Å§„ÇÜ","liveBroadcastContent":"upcoming","publishTime":"2019-05-10T20:13:02Z"}},{"kind":"youtube#searchResult","etag":"zfd9skflf5v4jeJy_ikdzwnh0iM","id":{"kind":"youtube#channel","channelId":"UC1x8Dc0Pwq3rdShBm0GWjig"},"snippet":{"publishedAt":"2021-08-11T16:03:23Z","channelId":"UC1x8Dc0Pwq3rdShBm0GWjig","title":"„Å∑„Åô(fromTUYU)","description":"„ÉÑ„É¶ ComposerÔºö„Å∑„Åô Ê≠åÔºè‰ΩúË©û‰ΩúÊõ≤ÔºèÁ∑®Êõ≤Ôºè„ÇÆ„Çø„ÉºÔºèMix&amp;MasteringÔºè„Éó„É≠„Éá„É•„Éº„ÇπÁ≠â (‰∫ãÂãôÊâÄ„Éª„É¨„Éº„Éô„É´ÁÑ°ÊâÄÂ±û) „Åä‰ªï‰∫ã„ÅÆ‰æùÈ†º ...","thumbnails":{"default":{"url":"https://yt3.ggpht.com/8C22bhMj6QbmNe5VFywWNPZGYPKNVn9SInUmxg_w5OsLTFsVvXELYWIIqwPjGbXNaKBe9YtNbw=s88-c-k-c0xffffffff-no-rj-mo"},"medium":{"url":"https://yt3.ggpht.com/8C22bhMj6QbmNe5VFywWNPZGYPKNVn9SInUmxg_w5OsLTFsVvXELYWIIqwPjGbXNaKBe9YtNbw=s240-c-k-c0xffffffff-no-rj-mo"},"high":{"url":"https://yt3.ggpht.com/8C22bhMj6QbmNe5VFywWNPZGYPKNVn9SInUmxg_w5OsLTFsVvXELYWIIqwPjGbXNaKBe9YtNbw=s800-c-k-c0xffffffff-no-rj-mo"}},"channelTitle":"„Å∑„Åô(fromTUYU)","liveBroadcastContent":"none","publishTime":"2021-08-11T16:03:23Z"}},{"kind":"youtube#searchResult","etag":"_n-81QNXu3s0Jux1YSEQqGjroXQ","id":{"kind":"youtube#channel","channelId":"UCzWCYM0vr67bjzZ9ubvk6-A"},"snippet":{"publishedAt":"2020-07-29T21:32:26Z","channelId":"UCzWCYM0vr67bjzZ9ubvk6-A","title":"„ÉÑ„É¶","description":"œÉ…¶Œ±·ÉßœÉ!^^ …ì‡πÄŒµ…≥—µŒµ…≥‡πÄ‚àÇœÉ Œ± Œµ‡∏£∆≠Œµ …¶¬µ…±‡πÄ‚Ñì‚àÇŒµ-? cŒ±…≥Œ±‚Ñì      ‚Äç","thumbnails":{"default":{"url":"https://yt3.ggpht.com/0W5YlSVH-ZSX0kpNwebcwOeM-QIKKhhwcrakl6xxR1mgBUF0dDc2hdqcWSFAk_Mbc9KpmyCo9XU=s88-c-k-c0xffffffff-no-rj-mo"},"medium":{"url":"https://yt3.ggpht.com/0W5YlSVH-ZSX0kpNwebcwOeM-QIKKhhwcrakl6xxR1mgBUF0dDc2hdqcWSFAk_Mbc9KpmyCo9XU=s240-c-k-c0xffffffff-no-rj-mo"},"high":{"url":"https://yt3.ggpht.com/0W5YlSVH-ZSX0kpNwebcwOeM-QIKKhhwcrakl6xxR1mgBUF0dDc2hdqcWSFAk_Mbc9KpmyCo9XU=s800-c-k-c0xffffffff-no-rj-mo"}},"channelTitle":"„ÉÑ„É¶","liveBroadcastContent":"none","publishTime":"2020-07-29T21:32:26Z"}},{"kind":"youtube#searchResult","etag":"KMMa0KyxhvubHv4zOxkRBwD-4IA","id":{"kind":"youtube#channel","channelId":"UCxNwOL0yz5oOur7KfejNE5w"},"snippet":{"publishedAt":"2016-10-16T12:38:23Z","channelId":"UCxNwOL0yz5oOur7KfejNE5w","title":"„ÉÑ„É¶","description":"","thumbnails":{"default":{"url":"https://yt3.ggpht.com/ytc/AMLnZu9776KSJsDalHiTw3QrKRuNerZoV-sDF8KKVJM6=s88-c-k-c0xffffffff-no-rj-mo"},"medium":{"url":"https://yt3.ggpht.com/ytc/AMLnZu9776KSJsDalHiTw3QrKRuNerZoV-sDF8KKVJM6=s240-c-k-c0xffffffff-no-rj-mo"},"high":{"url":"https://yt3.ggpht.com/ytc/AMLnZu9776KSJsDalHiTw3QrKRuNerZoV-sDF8KKVJM6=s800-c-k-c0xffffffff-no-rj-mo"}},"channelTitle":"„ÉÑ„É¶","liveBroadcastContent":"none","publishTime":"2016-10-16T12:38:23Z"}},{"kind":"youtube#searchResult","etag":"lcLDjjZZ1pus9IVQR_ZfjtoTN94","id":{"kind":"youtube#channel","channelId":"UCqWIuSoQAUKmkOpW4GIhYBA"},"snippet":{"publishedAt":"2021-08-29T07:54:46Z","channelId":"UCqWIuSoQAUKmkOpW4GIhYBA","title":"‚òî„ÉâÔº≥„Å§„ÇÜ-ASMR-‚òî","description":"Â•≥ÊÄßÂêë„ÅëASMR„ÇíÈÖç‰ø°„Åó„Å¶„Åæ„ÅôÔºÅ Èõ®„ÅÆÊó•„ÅÆÊé®„Åó„Å´„Å™„Çâ„Å™„ÅÑÔºü „Ç≥„É©„Éú„Åä‰ªï‰∫ã‰æùÈ†º„ÅØ‚Üì„Åã„Çâ„ÅäÈ°ò„ÅÑ„Åó„Åæ„ÅôÔºÅ Twitter: ...","thumbnails":{"default":{"url":"https://yt3.ggpht.com/E1yOQlWWax4hlBtck6ePlEXidGYmwEmf5APk9RhZzoKi3m5bh1A30pBiFfklGXytwhdxq5uSEaY=s88-c-k-c0xffffffff-no-rj-mo"},"medium":{"url":"https://yt3.ggpht.com/E1yOQlWWax4hlBtck6ePlEXidGYmwEmf5APk9RhZzoKi3m5bh1A30pBiFfklGXytwhdxq5uSEaY=s240-c-k-c0xffffffff-no-rj-mo"},"high":{"url":"https://yt3.ggpht.com/E1yOQlWWax4hlBtck6ePlEXidGYmwEmf5APk9RhZzoKi3m5bh1A30pBiFfklGXytwhdxq5uSEaY=s800-c-k-c0xffffffff-no-rj-mo"}},"channelTitle":"‚òî„ÉâÔº≥„Å§„ÇÜ-ASMR-‚òî","liveBroadcastContent":"upcoming","publishTime":"2021-08-29T07:54:46Z"}},{"kind":"youtube#searchResult","etag":"vAvRW_pC3aYVCWOYijicSwSgehM","id":{"kind":"youtube#channel","channelId":"UC5BjneXmkFt1WXDRUkQGocw"},"snippet":{"publishedAt":"2017-04-29T09:52:45Z","channelId":"UC5BjneXmkFt1WXDRUkQGocw","title":"„ÉÑ„É¶","description":"","thumbnails":{"default":{"url":"https://yt3.ggpht.com/u1O9CjCcflKOqeFr4g5GTp02qXl7_m7AVwFRQ0GV46sz-Q8SOEFaTZF0e4NA8YAOSrGo4zRP6yg=s88-c-k-c0xffffffff-no-rj-mo"},"medium":{"url":"https://yt3.ggpht.com/u1O9CjCcflKOqeFr4g5GTp02qXl7_m7AVwFRQ0GV46sz-Q8SOEFaTZF0e4NA8YAOSrGo4zRP6yg=s240-c-k-c0xffffffff-no-rj-mo"},"high":{"url":"https://yt3.ggpht.com/u1O9CjCcflKOqeFr4g5GTp02qXl7_m7AVwFRQ0GV46sz-Q8SOEFaTZF0e4NA8YAOSrGo4zRP6yg=s800-c-k-c0xffffffff-no-rj-mo"}},"channelTitle":"„ÉÑ„É¶","liveBroadcastContent":"none","publishTime":"2017-04-29T09:52:45Z"}},{"kind":"youtube#searchResult","etag":"FjDrnOA-RncYBK6p8DlyKvgzpiY","id":{"kind":"youtube#channel","channelId":"UCEnd7OmJItQbJzYuTsxgWmQ"},"snippet":{"publishedAt":"2021-06-09T03:47:50Z","channelId":"UCEnd7OmJItQbJzYuTsxgWmQ","title":"‚òîÔ∏è„Å§„ÇÜ-Tsuyu-‚òîÔ∏èASMR","description":"Â•≥ÊÄßÂêë„ÅëASMR„ÇíÈÖç‰ø°„Åó„Å¶„Åæ„ÅôÔºÅ Ë≤¥Â•≥„Å´Áôí„Åó„ÇíÂ±ä„Åë„Çâ„Çå„Åü„ÇâÂ¨â„Åó„ÅÑ„Å™„Éª„Éª„Éª Ë≤¥Â•≥„ÅÆÂøÉ„Å´„Å≤„Å£„Åù„Çä„Å®ÊöÆ„Çâ„Åó„Åü„ÅÑ„Åù„Çì„Å™ÊÄù„ÅÑ„ÅßÈÖç‰ø°„Åó ...","thumbnails":{"default":{"url":"https://yt3.ggpht.com/DGtVgQLIggogw6M475ErUn_LsGPjkz-tgDbjktaKtWiTQV4Y5_tMJgfFibCJEqWmnEtslwG3lrc=s88-c-k-c0xffffffff-no-rj-mo"},"medium":{"url":"https://yt3.ggpht.com/DGtVgQLIggogw6M475ErUn_LsGPjkz-tgDbjktaKtWiTQV4Y5_tMJgfFibCJEqWmnEtslwG3lrc=s240-c-k-c0xffffffff-no-rj-mo"},"high":{"url":"https://yt3.ggpht.com/DGtVgQLIggogw6M475ErUn_LsGPjkz-tgDbjktaKtWiTQV4Y5_tMJgfFibCJEqWmnEtslwG3lrc=s800-c-k-c0xffffffff-no-rj-mo"}},"channelTitle":"‚òîÔ∏è„Å§„ÇÜ-Tsuyu-‚òîÔ∏èASMR","liveBroadcastContent":"none","publishTime":"2021-06-09T03:47:50Z"}}]}"""
    //     MediaItem.Type.PLAYLIST -> """{"kind":"youtube#searchListResponse","etag":"BM2y_hloSS5ytbL6TFDEXw2Ckz0","nextPageToken":"CAoQAA","regionCode":"NL","pageInfo":{"totalResults":15989,"resultsPerPage":10},"items":[{"kind":"youtube#searchResult","etag":"37w6wWybAAHNnIcoo6YVTYs0xEM","id":{"kind":"youtube#playlist","playlistId":"PLwBnYkSZTLgIGr1_6l5pesUY0TZZFIy_b"},"snippet":{"publishedAt":"2019-06-12T14:11:30Z","channelId":"UCB2tP2QfRG7hTra0KTOtTBg","title":"„ÉÑ„É¶ MV","description":"TUYU Music Video.","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/TBoBfT-_sfM/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/TBoBfT-_sfM/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/TBoBfT-_sfM/hqdefault.jpg","width":480,"height":360}},"channelTitle":"„ÉÑ„É¶","liveBroadcastContent":"none","publishTime":"2019-06-12T14:11:30Z"}},{"kind":"youtube#searchResult","etag":"oGY-fePJLEy9YBqRAhnc-JYWcg0","id":{"kind":"youtube#playlist","playlistId":"PLYYLyJyK7RmFp0qHWXwyKyI6_-e9AilhS"},"snippet":{"publishedAt":"2020-05-06T00:47:18Z","channelId":"UCQpVZLfSlH_g9Swywys0eHA","title":"„ÉÑ„É¶„É°„Éâ„É¨„Éº","description":"","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/5xfNTyy-Xhk/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/5xfNTyy-Xhk/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/5xfNTyy-Xhk/hqdefault.jpg","width":480,"height":360}},"channelTitle":"„Åô„Åå„Åï„Çì„ÄÇ","liveBroadcastContent":"none","publishTime":"2020-05-06T00:47:18Z"}},{"kind":"youtube#searchResult","etag":"2tKuiNaxaMrkdETOA22GoPtLadY","id":{"kind":"youtube#playlist","playlistId":"PLAsBHK1reTZaPB6Dk47jGDJhgsQfqbEIJ"},"snippet":{"publishedAt":"2020-06-10T20:44:11Z","channelId":"UCLoecsegV_i2c3183UlbEHQ","title":"„ÉÑ„É¶ ÂÖ®Êõ≤","description":"„ÉÑ„É¶„ÅÆ„Ç™„Éï„Ç£„Ç∑„É£„É´„Ç¢„Ç´„Ç¶„É≥„Éà„Åã„ÇâÊäïÁ®ø„Åï„Çå„Åü„ÇÇ„ÅÆ„ÅÆ„Åø„Åß„Åô„ÄÇ","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/D0ehC_8sQuU/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/D0ehC_8sQuU/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/D0ehC_8sQuU/hqdefault.jpg","width":480,"height":360}},"channelTitle":"ÁÄ¨Á´ØÈúû","liveBroadcastContent":"none","publishTime":"2020-06-10T20:44:11Z"}},{"kind":"youtube#searchResult","etag":"WPOn5CpDGUKZJs5iWgVfeb__4p8","id":{"kind":"youtube#playlist","playlistId":"PLDNjvlOWpHgpAVtH14iv1yll-4HwA6PA1"},"snippet":{"publishedAt":"2022-08-27T09:00:26Z","channelId":"UCnX4hfw41Zqc0_mE8AEFHiw","title":"„ÉÑ„É¶","description":"","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/UArb6-27kwM/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/UArb6-27kwM/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/UArb6-27kwM/hqdefault.jpg","width":480,"height":360}},"channelTitle":"ùêÜùêßùêûùê¢ùêíùê¨","liveBroadcastContent":"none","publishTime":"2022-08-27T09:00:26Z"}},{"kind":"youtube#searchResult","etag":"xjYPLYVZtUK9KJ0N6Y99nHc3S58","id":{"kind":"youtube#playlist","playlistId":"PLNXxEUczfoD-XwsElupA6McvfRu-gEOBa"},"snippet":{"publishedAt":"2021-07-16T09:15:57Z","channelId":"UC-mxWa9e8CewHAvsUGsHYxA","title":"TUYU („ÉÑ„É¶) Piano Arrangments","description":"oldfrenchguy's TUYU Piano Arrangments.","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/oCGiKvJUvYw/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/oCGiKvJUvYw/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/oCGiKvJUvYw/hqdefault.jpg","width":480,"height":360}},"channelTitle":"oldfrenchguy","liveBroadcastContent":"none","publishTime":"2021-07-16T09:15:57Z"}},{"kind":"youtube#searchResult","etag":"yRsoDjBwUSFZgShwzw_b0Kw9Rk8","id":{"kind":"youtube#playlist","playlistId":"PLFAYlFKp2kqadBcTRzRkvz8wkVLoRnaBs"},"snippet":{"publishedAt":"2020-08-30T14:36:21Z","channelId":"UCDukeCFjXSb9FQnkpJjIzJQ","title":"„ÉÑ„É¶","description":"","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/RJJQ2emN478/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/RJJQ2emN478/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/RJJQ2emN478/hqdefault.jpg","width":480,"height":360}},"channelTitle":"„Å≠„ÇÄ„Åø„ÅÇ„Çã","liveBroadcastContent":"none","publishTime":"2020-08-30T14:36:21Z"}},{"kind":"youtube#searchResult","etag":"vl4dh3EPIzuHoFwVXLlG2SrxsKY","id":{"kind":"youtube#playlist","playlistId":"PLi3eTn_pS3k13BkxSZMAFohKmhtq4vLXj"},"snippet":{"publishedAt":"2020-10-22T05:09:35Z","channelId":"UCyz3im994KnGDo6ID9T901g","title":"[Haoto] „ÉÑ„É¶ - Piano Arrangements","description":"Playlist is sorted by UPLOAD order, not RELEASE order. On October 22nd, 2020, I finally made this playlist lol. I kept forgetting to.","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/2a1Ra3nkBJI/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/2a1Ra3nkBJI/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/2a1Ra3nkBJI/hqdefault.jpg","width":480,"height":360}},"channelTitle":"Haoto ËëâÈü≥ - Anime on Piano","liveBroadcastContent":"none","publishTime":"2020-10-22T05:09:35Z"}},{"kind":"youtube#searchResult","etag":"F6k3uFx7FHF-nwd4aWzMb-sdW_Q","id":{"kind":"youtube#playlist","playlistId":"PLKqUGdYEtm-XY92Vkyqo2Wn6ykVsfyHRu"},"snippet":{"publishedAt":"2020-12-31T04:13:10Z","channelId":"UCz_wt22sn_ZE-xhTTIH1WKg","title":"„ÉÑ„É¶„ÄÄ„Éà„Éî„ÉÉ„ÇØ","description":"","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/NXzZik68hTE/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/NXzZik68hTE/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/NXzZik68hTE/hqdefault.jpg","width":480,"height":360}},"channelTitle":"Â§ú‰∏ñ","liveBroadcastContent":"none","publishTime":"2020-12-31T04:13:10Z"}},{"kind":"youtube#searchResult","etag":"YeuWwBjC7ZZP6tTVtQ7_Ixa14Ag","id":{"kind":"youtube#playlist","playlistId":"PLzOOAYPdJwZVrbYWY9HJuF3b3zIJv9SF0"},"snippet":{"publishedAt":"2022-02-03T10:33:40Z","channelId":"UCJJs_vvba7wE9yXLfQbj9AA","title":"„ÉÑ„É¶","description":"","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/NXzZik68hTE/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/NXzZik68hTE/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/NXzZik68hTE/hqdefault.jpg","width":480,"height":360}},"channelTitle":"„É¨„ÉÉ„ÇØ„Çπ„Åü„ÅÑ„Å°„Çá„ÅÜ","liveBroadcastContent":"none","publishTime":"2022-02-03T10:33:40Z"}},{"kind":"youtube#searchResult","etag":"MGTunrtlBtJwSSOV4gyIweq7wLg","id":{"kind":"youtube#playlist","playlistId":"PLcgu28mP0Hc5Oa-32hD0fCwxE0yBWg02T"},"snippet":{"publishedAt":"2021-05-24T15:36:16Z","channelId":"UCmA90KgDT2HfzKW3kvrJEuw","title":"„ÉÑ„É¶‚òî","description":"","thumbnails":{"default":{"url":"https://i.ytimg.com/vi/D0ehC_8sQuU/default.jpg","width":120,"height":90},"medium":{"url":"https://i.ytimg.com/vi/D0ehC_8sQuU/mqdefault.jpg","width":320,"height":180},"high":{"url":"https://i.ytimg.com/vi/D0ehC_8sQuU/hqdefault.jpg","width":480,"height":360}},"channelTitle":"Êßô-sin-","liveBroadcastContent":"none","publishTime":"2021-05-24T15:36:16Z"}}]}"""
    // }
    // return Result.success(klaxon.parse<SearchResults>(data)!!.items)

    val type_name = when (type) {
        MediaItem.Type.SONG -> "video"
        MediaItem.Type.ARTIST -> "channel"
        MediaItem.Type.PLAYLIST -> "playlist"
    }

    var url = "https://www.googleapis.com/youtube/v3/search?key${getString(R.string.yt_api_key)}&part=snippet&type=$type_name&q=${URLEncoder.encode(query, "UTF-8")}&maxResults=$max_results&safeSearch=none"
    if (channel_id != null) {
        url += "&channelId=$channel_id"
    }

    val request = Request.Builder().url(url).build()
    val response = client.newCall(request).execute()
    if (response.code != 200) {
        return Result.failure(response)
    }

    return Result.success(klaxon.parse<SearchResults>(response.body!!.charStream())!!.items)
}